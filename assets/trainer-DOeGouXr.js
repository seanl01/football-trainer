import{j as e,r as c}from"./index-IK4OwRXI.js";import{f as x}from"./football-CCwA8R5F.js";import{c as p,N as w,a as o,S as u,P as g,b as k,d as I}from"./nav-C-xZ1pVf.js";/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],F=p("ArrowLeft",C);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],T=p("ArrowRight",P);function R(){return Math.random()<.5}const _={ball:a=>e.jsx("img",{src:x,alt:"football",className:a.className}),player:a=>e.jsx(g,{...a})};function M(){const[a,n]=c.useState({flashComponent:null,isFlashPlaying:!1,timeoutCleanupId:0,iconName:"ball",minIntervalSecs:3,maxIntervalSecs:3,timeoutSecs:1,direction:"left",speech:!1}),i=c.useRef(a),[m,d]=c.useState(!1),r=c.useRef(null),f=new SpeechSynthesisUtterance("left"),j=new SpeechSynthesisUtterance("right");c.useEffect(()=>("speechSynthesis"in window&&(r.current=window.speechSynthesis),()=>{b()}),[]);function b(){console.log("Unmounting PairTrainer"),i.current.isFlashPlaying=!1,clearTimeout(a.timeoutCleanupId),r.current&&r.current.cancel()}const y=c.useCallback((s=a.timeoutSecs)=>{var l;d(!0);const t=R()?"left":"right";n(h=>({...h,direction:t})),i.current.speech&&((l=r==null?void 0:r.current)==null||l.speak(t==="left"?f:j)),setTimeout(()=>{d(!1)},s*1e3)},[a.timeoutSecs]);c.useEffect(()=>{i.current=a},[a]);function N(){const s={...a,isFlashPlaying:!0};n(s),i.current.isFlashPlaying=!0;function t(){if(!i.current.isFlashPlaying)return;y();const l=(a.minIntervalSecs+Math.random()*(a.maxIntervalSecs-a.minIntervalSecs))*1e3,h=setTimeout(t,l);n(S=>({...S,timeoutCleanupId:h})),i.current.timeoutCleanupId=h}t()}function v(){n(s=>({...s,isFlashPlaying:!1})),clearTimeout(a.timeoutCleanupId)}return e.jsxs(e.Fragment,{children:[e.jsx(w,{backLink:"/football-trainer/",backText:"Home",infoTitle:"Individual Trainer",infoContent:e.jsx("div",{className:"flex flex-col gap-2 ",children:e.jsxs("section",{className:"text-sm text-base-content/70 my-2",children:[e.jsx("p",{children:"Challenge your reactions using individual trainer. An icon will flash on your screen at a random interval you set, with a random direction (left or right). React quick!"}),e.jsx("div",{className:"divider"}),e.jsxs("ol",{className:"*:my-1",children:[e.jsx("li",{children:"1. Set minimum and maximum interval. The icon will flash at a random interval within this range."}),e.jsx("li",{children:'2. Set the icon of choice and toggle whether you want a speech signal as well ("left!" and "right!")'}),e.jsx("li",{children:"3. Click play to get started!"})]})]})})}),e.jsxs("section",{className:"relative grid grid-cols-1 gap-4",children:[a.isFlashPlaying?e.jsx(e.Fragment,{children:e.jsxs("section",{className:"grid place-items-center",children:[e.jsx("div",{className:o("w-8/12 aspect-4/5 place-self-center transition-all [-webkit-transform:translateZ(0)]",{"opacity-100 scale-100":m,"opacity-0 scale-50":!m}),children:_[a.iconName]({className:"w-full h-full drop-shadow-[0px_0px_32px_var(--color-success)]"})}),e.jsxs("figure",{className:"grid place-items-center relative py-4",children:[e.jsx(F,{className:o("w-36 h-36 transition-all opacity-0",a.direction==="left"&&m&&"opacity-100")}),e.jsx(T,{className:o("absolute w-36 h-36 transition-all opacity-0",a.direction==="right"&&m&&"opacity-100")})]})]})}):e.jsx("p",{className:"w-8/12 aspect-3/5 place-self-center grid place-items-center text-center text-md text-base-content/70",children:"Click start"}),e.jsxs("section",{tabIndex:0,className:"collapse collapse-arrow bg-base-100 border-base-300 border rounded-lg",children:[e.jsx("input",{type:"checkbox"}),e.jsx("header",{className:"collapse-title font-semibold",children:"Settings"}),e.jsxs("main",{className:"collapse-content text-sm grid grid-cols-1 gap-4",children:[e.jsx(u,{min:1,max:25,step:1,suffix:"s",value:a.minIntervalSecs,label:"Min interval in secs",onChange:s=>{const t=parseInt(s.target.value);t>a.maxIntervalSecs||n(l=>({...l,minIntervalSecs:t}))}}),e.jsx(u,{min:1,max:25,step:1,suffix:"s",value:a.maxIntervalSecs,label:"Max interval in secs",onChange:s=>{const t=parseInt(s.target.value);t<a.minIntervalSecs||n(l=>({...l,maxIntervalSecs:t}))}}),e.jsxs("section",{className:"grid grid-cols-2",children:[e.jsxs("article",{children:[e.jsx("label",{className:"block",children:"Icon"}),e.jsxs("ul",{className:"menu menu-horizontal bg-base-200 rounded-box gap-1",children:[e.jsx("li",{children:e.jsx("a",{className:o(a.iconName==="player"&&"menu-active"),onClick:()=>n(s=>({...s,iconName:"player"})),children:e.jsx(g,{})})}),e.jsx("li",{children:e.jsx("a",{className:o(a.iconName==="ball"&&"menu-active"),onClick:()=>n(s=>({...s,iconName:"ball"})),children:e.jsx("img",{src:x,alt:"football",className:"h-[24px] w-[24px]"})})})]})]}),e.jsxs("article",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"block",children:"Speak"}),e.jsx("input",{type:"checkbox",className:"toggle toggle-lg",checked:a.speech,onChange:s=>{n(t=>({...t,speech:s.target.checked})),console.log(a)}})]})]})]})]}),e.jsx("button",{className:"btn btn-accent btn-lg rounded-lg",onClick:a.isFlashPlaying?v:N,children:a.isFlashPlaying?e.jsxs(e.Fragment,{children:[e.jsx(k,{}),"Pause"]}):e.jsxs(e.Fragment,{children:[e.jsx(I,{}),"Start"]})})]})]})}const L=function(){return e.jsx(M,{})};export{L as component};
