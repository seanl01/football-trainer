import{j as e,r as c}from"./index-Dcg7EmRn.js";import{L as I,f as p}from"./football-Dpo0bSot.js";import{c as x,C as k,a as o,S as d,P as g,b as w,d as C}from"./utils-D6BALaHS.js";/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],P=x("ArrowLeft",F);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],_=x("ArrowRight",T);function L(){return Math.random()<.5}const M={ball:s=>e.jsx("img",{src:p,alt:"football",className:s.className}),player:s=>e.jsx(g,{...s})};function R(){const[s,n]=c.useState({flashComponent:null,isFlashPlaying:!1,timeoutCleanupId:0,iconName:"ball",minIntervalSecs:3,maxIntervalSecs:3,timeoutSecs:1,direction:"left",speech:!1}),i=c.useRef(s),[m,h]=c.useState(!1),r=c.useRef(null),f=new SpeechSynthesisUtterance("left"),j=new SpeechSynthesisUtterance("right");c.useEffect(()=>("speechSynthesis"in window&&(r.current=window.speechSynthesis),()=>{b()}),[]);function b(){console.log("Unmounting PairTrainer"),i.current.isFlashPlaying=!1,clearTimeout(s.timeoutCleanupId),r.current&&r.current.cancel()}const N=c.useCallback((a=s.timeoutSecs)=>{var l;h(!0);const t=L()?"left":"right";n(u=>({...u,direction:t})),i.current.speech&&((l=r==null?void 0:r.current)==null||l.speak(t==="left"?f:j)),setTimeout(()=>{h(!1)},a*1e3)},[s.timeoutSecs]);c.useEffect(()=>{i.current=s},[s]);function y(){const a={...s,isFlashPlaying:!0};n(a),i.current.isFlashPlaying=!0;function t(){if(!i.current.isFlashPlaying)return;N();const l=(s.minIntervalSecs+Math.random()*(s.maxIntervalSecs-s.minIntervalSecs))*1e3,u=setTimeout(t,l);n(v=>({...v,timeoutCleanupId:u})),i.current.timeoutCleanupId=u}t()}function S(){n(a=>({...a,isFlashPlaying:!1})),clearTimeout(s.timeoutCleanupId)}return e.jsxs(e.Fragment,{children:[e.jsxs(I,{to:"/football-trainer",className:"p-1 btn btn-ghost",children:[e.jsx(k,{}),"Home"]}),e.jsxs("section",{className:"relative grid grid-cols-1 gap-4",children:[s.isFlashPlaying?e.jsx(e.Fragment,{children:e.jsxs("section",{className:"grid place-items-center",children:[e.jsx("div",{className:o("w-8/12 aspect-4/5 place-self-center transition-all [-webkit-transform:translateZ(0)]",{"opacity-100 scale-100":m,"opacity-0 scale-50":!m}),children:M[s.iconName]({className:"w-full h-full drop-shadow-[0px_0px_32px_green]"})}),e.jsxs("figure",{className:"grid place-items-center relative py-4",children:[e.jsx(P,{className:o("w-36 h-36 transition-all opacity-0",s.direction==="left"&&m&&"opacity-100")}),e.jsx(_,{className:o("absolute w-36 h-36 transition-all opacity-0",s.direction==="right"&&m&&"opacity-100")})]})]})}):e.jsx("p",{className:"w-8/12 aspect-3/5 place-self-center grid place-items-center text-center text-md text-base-content/70",children:"Click start"}),e.jsxs("section",{tabIndex:0,className:"collapse collapse-arrow bg-base-100 border-base-300 border rounded-lg",children:[e.jsx("input",{type:"checkbox"}),e.jsx("header",{className:"collapse-title font-semibold",children:"Settings"}),e.jsxs("main",{className:"collapse-content text-sm grid grid-cols-1 gap-4",children:[e.jsx(d,{min:1,max:5,step:1,suffix:"s",value:s.minIntervalSecs,label:"Min interval in secs",onChange:a=>{const t=parseInt(a.target.value);t>s.maxIntervalSecs||n(l=>({...l,minIntervalSecs:t}))}}),e.jsx(d,{min:1,max:5,step:1,suffix:"s",value:s.maxIntervalSecs,label:"Max interval in secs",onChange:a=>{const t=parseInt(a.target.value);t<s.minIntervalSecs||n(l=>({...l,maxIntervalSecs:t}))}}),e.jsxs("section",{className:"grid grid-cols-2",children:[e.jsxs("article",{children:[e.jsx("label",{className:"block",children:"Icon"}),e.jsxs("ul",{className:"menu menu-horizontal bg-base-200 rounded-box gap-1",children:[e.jsx("li",{children:e.jsx("a",{className:o(s.iconName==="player"&&"menu-active"),onClick:()=>n(a=>({...a,iconName:"player"})),children:e.jsx(g,{})})}),e.jsx("li",{children:e.jsx("a",{className:o(s.iconName==="ball"&&"menu-active"),onClick:()=>n(a=>({...a,iconName:"ball"})),children:e.jsx("img",{src:p,alt:"football",className:"h-[24px] w-[24px]"})})})]})]}),e.jsxs("article",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"block",children:"Speak"}),e.jsx("input",{type:"checkbox",className:"toggle toggle-lg",checked:s.speech,onChange:a=>{n(t=>({...t,speech:a.target.checked})),console.log(s)}})]})]})]})]}),e.jsx("button",{className:"btn btn-accent btn-lg rounded-lg",onClick:s.isFlashPlaying?S:y,children:s.isFlashPlaying?e.jsxs(e.Fragment,{children:[e.jsx(w,{}),"Pause"]}):e.jsxs(e.Fragment,{children:[e.jsx(C,{}),"Start"]})})]})]})}const z=function(){return e.jsx(R,{})};export{z as component};
